{"version":3,"sources":["webpack:///./src/components/ordersPage/OrdersWithStatusesSection/ordersWithStatusesSection.scss","webpack:///./src/components/ordersPage/OrdersWithStatusesSection/ordersWithStatusesSection.jsx","webpack:///./src/components/ordersPage/OrdersWithStatusesSection/ordersWithStatusesSection.scss?5733"],"names":["ApproveOrder","orderId","orderService","UpdateStatus","props","status","forceUpdate","approveOrder","React","PureComponent","CancelOrder","Status","cancelOrder","OrdersWithStatusesSection","getPending","pendingOrders","getAll","allOrders","setState","isLoading","state","map","order","booksParagraphs","books","forEach","element","push","authors","join","title","amount","id","dateHelper","getDate","date","sum","preloader","renderPendingOrders","renderAllOrders"],"mappings":"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","file":"main.afe4aae8d18602bd7f6b.hot-update.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".orders-with-statuses-section__title {\\n  padding: 10px 0;\\n  font-size: 30px;\\n  font-family: \\\"Lucida Sans\\\", sans-serif;\\n  text-align: center; }\\n\\n.orders-with-statuses-section__preloader-icon {\\n  width: 100%;\\n  height: 100%; }\\n\\n.orders-with-statuses-section__preloader {\\n  height: 50px; }\\n\\n.orders-with-statuses-section__orders-table {\\n  width: 100%;\\n  font-family: \\\"Lucida Sans\\\", sans-serif;\\n  text-align: center;\\n  border: 1px;\\n  border-color: #106cc8; }\\n\\n.orders-with-statuses-section__orders-header {\\n  background-color: mistyrose; }\\n\\n.orders-with-statuses-section__header-td {\\n  padding: 10px 0;\\n  font-size: 25px; }\\n\\n.orders-with-statuses-section__line-td {\\n  padding: 5px 0;\\n  font-size: 20px;\\n  white-space: pre-line; }\\n\\n.cancel-button {\\n  font-size: 20px;\\n  background-color: white;\\n  border: 2px red solid;\\n  border-radius: 5px; }\\n\\n.approve-button {\\n  font-size: 20px;\\n  background-color: white;\\n  border: 2px forestgreen solid;\\n  border-radius: 5px; }\\n\", \"\"]);\n\n","/* eslint-disable max-classes-per-file */\r\nimport React from 'react';\r\n\r\nimport dateHelper from 'helpers/dateHelper';\r\nimport orderService from 'services/orderService';\r\nimport Icon from 'components/common/Icon/icon';\r\n\r\nimport preloader from 'styles/icons/preloader.svg';\r\nimport './ordersWithStatusesSection.scss';\r\n\r\nclass ApproveOrder extends React.PureComponent {\r\n    approveOrder = async (orderId) => {\r\n        await orderService.UpdateStatus({orderId:  this.props.orderId, status: 'Approved' });\r\n        this.forceUpdate();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button className=\"approve-button\" type=\"button\" onClick={this.approveOrder}>\r\n                Approve\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nclass CancelOrder extends React.PureComponent {\r\n    cancelOrder = async (orderId) => {\r\n        await orderService.UpdateStatus({ orderId: this.props.orderId, Status: 'Cancelled' });\r\n        this.forceUpdate();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button className=\"cancel-button\" type=\"button\" onClick={this.props.cancelOrder}>\r\n                Cancel\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default class OrdersWithStatusesSection extends React.PureComponent {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            pendingOrders: [],\r\n            allOrders: [],\r\n            isLoading: true\r\n        };\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        const pendingOrders = await orderService.getPending();\r\n        const allOrders = await orderService.getAll();\r\n        this.setState({\r\n            pendingOrders,\r\n            allOrders,\r\n            isLoading: false\r\n        });\r\n    }\r\n\r\n    renderAllOrders = () => {\r\n        return this.state.allOrders.map((order) => {\r\n            const booksParagraphs = [];\r\n\r\n            order.books.forEach((element) => {\r\n                booksParagraphs.push(<p>{element.authors.join(',')} \"{element.title}\" - {element.amount} items</p>);\r\n            });\r\n            return (\r\n                <tr className=\"orders-with-statuses-section__orders-line\">\r\n                    <td className=\"orders-with-statuses-section__line-td\">{order.id}</td>\r\n                    <td className=\"orders-with-statuses-section__line-td\">{booksParagraphs}</td>\r\n                    <td className=\"orders-with-statuses-section__line-td\">{dateHelper.getDate(order.date)}</td>\r\n                    <td className=\"orders-with-statuses-section__line-td\">{order.sum}</td>\r\n                    <td className=\"orders-with-statuses-section__line-td\">{order.status}</td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    renderPendingOrders = () => {\r\n        return this.state.pendingOrders.map((order) => {\r\n            const booksParagraphs = [];\r\n\r\n            order.books.forEach((element) => {\r\n                booksParagraphs.push(<p>{element.authors.join(',')} \"{element.title}\" - {element.amount} items</p>);\r\n            });\r\n            return (\r\n                <tr className=\"orders-with-statuses-section__orders-line\">\r\n                    <td className=\"orders-with-statuses-section__line-td\">{order.id}</td>\r\n                    <td className=\"orders-with-statuses-section__line-td\">{booksParagraphs}</td>\r\n                    <td className=\"orders-with-statuses-section__line-td\">{dateHelper.getDate(order.date)}</td>\r\n                    <td className=\"orders-with-statuses-section__line-td\">{order.sum}</td>\r\n                    <td className=\"orders-with-statuses-section__line-td\">{order.status}\r\n                        <div>\r\n                            <CancelOrder orderId={order.id} />\r\n                            <ApproveOrder orderId={order.id} />\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            );\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isLoading) {\r\n            return (\r\n                <div className=\"orders-with-statuses-section__preloader\">\r\n                    <Icon iconClassName=\"orders-with-statuses-section__preloader-icon\" icon={preloader} />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <section className=\"orders-with-statuses-section\">\r\n                <h1 className=\"orders-with-statuses-section__title\">Pending orders</h1>\r\n                <table className=\"orders-with-statuses-section__orders-table\">\r\n                    <tr className=\"orders-with-statuses-section__orders-header\">\r\n                        <td className=\"orders-with-statuses-section__header-td\">Id</td>\r\n                        <td className=\"orders-with-statuses-section__header-td\">Books</td>\r\n                        <td className=\"orders-with-statuses-section__header-td\">Date</td>\r\n                        <td className=\"orders-with-statuses-section__header-td\">Total price</td>\r\n                        <td className=\"orders-with-statuses-section__header-td\">Status </td>\r\n                    </tr>\r\n                    {this.renderPendingOrders()}\r\n                </table>\r\n\r\n                <h1 className=\"orders-with-statuses-section__title\">All orders</h1>\r\n                <table className=\"orders-with-statuses-section__orders-table\">\r\n                    <tr className=\"orders-with-statuses-section__orders-header\">\r\n                        <td className=\"orders-with-statuses-section__header-td\">Id</td>\r\n                        <td className=\"orders-with-statuses-section__header-td\">Books</td>\r\n                        <td className=\"orders-with-statuses-section__header-td\">Date</td>\r\n                        <td className=\"orders-with-statuses-section__header-td\">Total price</td>\r\n                        <td className=\"orders-with-statuses-section__header-td\">Status </td>\r\n                    </tr>\r\n                    {this.renderAllOrders()}\r\n                </table>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./ordersWithStatusesSection.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./ordersWithStatusesSection.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./ordersWithStatusesSection.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}