{"version":3,"sources":["webpack:///./src/components/booksList/BooksListItem/booksListItem.jsx"],"names":["BooksListItem","props","context","state","isFavorite","favoritesServices","deleteItem","book","localStorageHelper","getId","add","setState","favoriteItemHelper","favoriteBooks","authors","forEach","author","push","genres","genre","image","title","join","price","getRole","urlHelper","getUrlWithParameter","routing","addBookPage","url","id","edit","React","Component","PropTypes","shape","number","isRequired","string","array","pagesCount","publishingYear","UserContext"],"mappings":"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","file":"main.9ee7f9d3a6c510ad0767.hot-update.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { UserContext } from 'store/context/userContext';\r\nimport OpenDetailsPageButton from 'components/common/OpenDetailsPageButton/openDetailsPageButton';\r\nimport ShoppingCartCounter from 'components/common/ShoppingCartCounter/shoppingCartCounter';\r\nimport FavoriteButton from 'components/common/FavoriteButton/favoriteButton';\r\nimport Icon from 'components/common/Icon/icon';\r\nimport favoritesServices from 'services/favoritesService';\r\nimport favoriteItemHelper from 'helpers/favoriteItemHelper';\r\nimport localStorageHelper from 'helpers/localStorageHelper';\r\nimport urlHelper from 'helpers/urlHelper';\r\nimport routing from 'constants/routing';\r\n\r\nimport edit from 'styles/icons/edit.svg';\r\nimport './booksListItem.scss';\r\n\r\nexport default class BooksListItem extends React.Component {\r\n    static propTypes = {\r\n        book: PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n            image: PropTypes.string,\r\n            authors: PropTypes.array.isRequired,\r\n            title: PropTypes.string.isRequired,\r\n            genres: PropTypes.array.isRequired,\r\n            price: PropTypes.number.isRequired,\r\n            pagesCount: PropTypes.number,\r\n            publishingYear: PropTypes.number\r\n        }).isRequired\r\n    };\r\n\r\n    static contextType = UserContext;\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = { isFavorite: favoriteItemHelper.isFavorite(this.props.book, this.context.favoriteBooks) };\r\n    }\r\n\r\n    toggleFavoriteState = () => {\r\n        this.state.isFavorite\r\n            ? favoritesServices.deleteItem(this.props.book, localStorageHelper.getId())\r\n            : favoritesServices.add(this.props.book, localStorageHelper.getId());\r\n        this.setState({ isFavorite: !this.state.isFavorite });\r\n    }\r\n\r\n    render() {\r\n        const { book } = this.props;\r\n        const authors = [];\r\n        book.authors.forEach((author) => {\r\n            authors.push(author);\r\n        });\r\n\r\n        const genres = [];\r\n        book.genres.forEach((genre) => {\r\n            genres.push(genre);\r\n        });\r\n\r\n        return (\r\n            <div className=\"books-list-item\">\r\n                <img alt=\"book\" src={book.image} className=\"books-list-item__image\" />\r\n                <div className=\"books-list-item__information\">\r\n                    <div className=\"books-list-item__title\">{book.title}</div>\r\n                    <div className=\"books-list-item__authors\">{book.authors.join(', ')}</div>\r\n                    <div className=\"books-list-item__genres\">{genres.join(', ')}</div>\r\n                    <div className=\"books-list-item__price\">{book.price} Ñ€.</div>\r\n                    {\r\n                        localStorageHelper.getRole() === 'admin'\r\n                                && (\r\n                                    <Link to={urlHelper.getUrlWithParameter(routing.addBookPage.url, /:id/, book.id)}>\r\n                                        <button type=\"button\" className=\"books-list-item__button\">\r\n                                            <Icon icon={edit} iconClassName=\"books-list-item__button-icon\" />\r\n                                        </button>\r\n                                    </Link>\r\n                                )\r\n                    }\r\n                    <OpenDetailsPageButton bookId={book.id} className=\"books-list-item__open-details-page-button\" />\r\n                    {\r\n                        localStorageHelper.getRole() === 'user'\r\n                                && (\r\n                                    <>\r\n                                        <FavoriteButton book={book} className=\"books-list-item__favorite-button\" />\r\n                                        <ShoppingCartCounter bookId={book.id} />\r\n                                    </>\r\n                                )\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"],"sourceRoot":""}