{"version":3,"sources":["webpack:///./src/components/booksList/BooksList/booksList.scss","webpack:///./src/components/booksList/BooksListItem/booksListItem.scss","webpack:///./src/components/booksList/BooksList/booksList.jsx","webpack:///./src/components/booksList/BooksList/booksList.scss?d014","webpack:///./src/components/booksList/BooksListItem/booksListItem.jsx","webpack:///./src/components/booksList/BooksListItem/booksListItem.scss?faf3","webpack:///./src/store/context/userContext.js"],"names":["BooksList","props","context","bookPerPage","state","page","isLoading","renderedBooks","handleScroll","bind","loadFavoriteBooks","loadBooks","window","addEventListener","removeEventListener","localStorageHelper","getId","undefined","getRole","favoritesService","getItems","favoriteBooks","setFavoriteBooks","bookService","getAll","result","addBooks","setState","lastBook","document","querySelector","lastBookOffset","offsetTop","clientHeight","pageOffset","pageYOffset","innerHeight","loadMore","displayedBooks","books","slice","map","book","id","renderBooks","preloader","React","PureComponent","PropTypes","array","isRequired","func","UserContext","connect","BooksListItem","isFavorite","favoritesServices","deleteItem","add","favoriteItemHelper","image","title","authors","join","genres","price","urlHelper","getUrlWithParameter","routing","addBookPage","url","edit","Component","shape","number","string","pagesCount","publishingYear","createContext"],"mappings":"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","file":"main.395da378fd0dcd530c48.hot-update.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".books-list {\\n  display: flex;\\n  flex-wrap: wrap;\\n  width: 95%;\\n  margin: 20px auto 0 auto; }\\n  @media (min-width: 1024px) {\\n    .books-list {\\n      width: 75%; } }\\n\\n.books-list__preloader-icon {\\n  width: 100%;\\n  height: 100%; }\\n\\n.books-list__preloader {\\n  height: 50px; }\\n\", \"\"]);\n\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".books-list-item {\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  min-height: 0;\\n  margin: 5px auto;\\n  padding: 5px;\\n  color: #ffffff;\\n  font-family: 'Lucida Sans', sans-serif; }\\n  @media (min-width: 425px) {\\n    .books-list-item {\\n      width: 45%; } }\\n  @media (min-width: 1024px) {\\n    .books-list-item {\\n      width: 32%; } }\\n\\n.books-list-item__image {\\n  width: auto;\\n  height: 140px;\\n  margin: 0 auto; }\\n\\n.books-list-item__title {\\n  padding: 10px 0;\\n  font-size: 24px; }\\n\\n.books-list-item__authors,\\n.books-list-item__genres {\\n  display: block;\\n  padding: 5px 0;\\n  font-size: 16px; }\\n\\n.books-list-item__price {\\n  position: absolute;\\n  right: 10px;\\n  bottom: 10px;\\n  font-size: 20px; }\\n\\n.books-list-item__information {\\n  position: relative;\\n  height: 55%;\\n  padding: 10px;\\n  background-color: #808080; }\\n\\n.books-list-item__open-details-page-button,\\n.books-list-item__favorite-button {\\n  color: #ffffff; }\\n\\n.books-list-item__button {\\n  display: inline;\\n  padding: 5px;\\n  background-color: transparent;\\n  border: none; }\\n\\n.books-list-item__button-icon {\\n  width: 15px;\\n  height: 15px;\\n  padding: 0 5px;\\n  fill: #ffffff; }\\n\", \"\"]);\n\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { UserContext } from 'store/context/userContext';\r\nimport favoritesService from 'services/favoritesService';\r\nimport bookService from 'services/bookService';\r\nimport BooksListItem from 'components/booksList/BooksListItem/booksListItem';\r\nimport Icon from 'components/common/Icon/icon';\r\nimport localStorageHelper from 'helpers/localStorageHelper';\r\n\r\nimport preloader from 'styles/icons/preloader.svg';\r\nimport './booksList.scss';\r\n\r\nclass BooksList extends React.PureComponent {\r\n    static propTypes = {\r\n        books: PropTypes.array.isRequired,\r\n        addBooks: PropTypes.func.isRequired\r\n    };\r\n\r\n    static contextType = UserContext;\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n\r\n        this.bookPerPage = 12;\r\n        this.state = {\r\n            page: 1,\r\n            isLoading: true,\r\n            renderedBooks: this.bookPerPage\r\n        };\r\n        this.handleScroll = this.handleScroll.bind(this);\r\n        this.loadFavoriteBooks = this.loadFavoriteBooks.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.loadFavoriteBooks();\r\n        this.loadBooks();\r\n        window.addEventListener('scroll', this.handleScroll);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.handleScroll);\r\n    }\r\n\r\n    async loadFavoriteBooks() {\r\n        if (localStorageHelper.getId() === '' || localStorageHelper.getId() === undefined || localStorageHelper.getRole() === 'admin') {\r\n            return;\r\n        }\r\n\r\n        const favoriteBooks = await favoritesService.getItems(localStorageHelper.getId());\r\n        this.context.setFavoriteBooks(favoriteBooks);\r\n    }\r\n\r\n    async loadBooks() {\r\n        const result = await bookService.getAll();\r\n        this.props.addBooks(result);\r\n        this.setState({ isLoading: false });\r\n    }\r\n\r\n    handleScroll() {\r\n        const lastBook = document.querySelector('.books-list > div:last-child');\r\n        const lastBookOffset = lastBook.offsetTop + lastBook.clientHeight;\r\n        const pageOffset = window.pageYOffset + window.innerHeight;\r\n        if (pageOffset > lastBookOffset) {\r\n            this.loadMore();\r\n        }\r\n\r\n        this.setState({ isLoading: false });\r\n    }\r\n\r\n    loadMore() {\r\n        const { page, renderedBooks } = this.state;\r\n        this.setState({\r\n            isLoading: true,\r\n            page: page + 1,\r\n            renderedBooks: renderedBooks + this.bookPerPage\r\n        });\r\n    }\r\n\r\n    renderBooks() {\r\n        const displayedBooks = this.props.books.slice(0, this.state.renderedBooks);\r\n        return displayedBooks.map((book) => (<BooksListItem book={book} key={book.id} />));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className=\"books-list\">\r\n                    {\r\n                        this.renderBooks()\r\n                    }\r\n                </div>\r\n                {this.state.isLoading && (\r\n                    <div className=\"books-list__preloader\">\r\n                        <Icon iconClassName=\"books-list__preloader-icon\" icon={preloader} />\r\n                    </div>\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect()(BooksList);\r\n","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./booksList.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./booksList.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./booksList.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { UserContext } from 'store/context/userContext';\r\nimport OpenDetailsPageButton from 'components/common/OpenDetailsPageButton/openDetailsPageButton';\r\nimport ShoppingCartCounter from 'components/common/ShoppingCartCounter/shoppingCartCounter';\r\nimport FavoriteButton from 'components/common/FavoriteButton/favoriteButton';\r\nimport Icon from 'components/common/Icon/icon';\r\nimport favoritesServices from 'services/favoritesService';\r\nimport favoriteItemHelper from 'helpers/favoriteItemHelper';\r\nimport localStorageHelper from 'helpers/localStorageHelper';\r\nimport urlHelper from 'helpers/urlHelper';\r\nimport routing from 'constants/routing';\r\n\r\nimport edit from 'styles/icons/edit.svg';\r\nimport './booksListItem.scss';\r\n\r\nexport default class BooksListItem extends React.Component {\r\n    static propTypes = {\r\n        book: PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n            image: PropTypes.string,\r\n            authors: PropTypes.array.isRequired,\r\n            title: PropTypes.string.isRequired,\r\n            genres: PropTypes.array.isRequired,\r\n            price: PropTypes.number.isRequired,\r\n            pagesCount: PropTypes.number,\r\n            publishingYear: PropTypes.number\r\n        }).isRequired\r\n    };\r\n\r\n    static contextType = UserContext;\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = { isFavorite: favoriteItemHelper.isFavorite(this.props.book, this.context.favoriteBooks) };\r\n    }\r\n\r\n    toggleFavoriteState = () => {\r\n        this.state.isFavorite\r\n            ? favoritesServices.deleteItem(this.props.book, localStorageHelper.getId())\r\n            : favoritesServices.add(this.props.book, localStorageHelper.getId());\r\n        this.setState({ isFavorite: !this.state.isFavorite });\r\n    }\r\n\r\n    render() {\r\n        const { book } = this.props;\r\n\r\n        return (\r\n            <div className=\"books-list-item\">\r\n                <img alt=\"book\" src={book.image} className=\"books-list-item__image\" />\r\n                <div className=\"books-list-item__information\">\r\n                    <div className=\"books-list-item__title\">{book.title}</div>\r\n                    <div className=\"books-list-item__authors\">{book.authors.join(', ')}</div>\r\n                    <div className=\"books-list-item__genres\">{book.genres.join(', ')}</div>\r\n                    <div className=\"books-list-item__price\">{book.price} р.</div>\r\n                    {\r\n                        localStorageHelper.getRole() === 'admin'\r\n                                && (\r\n                                    <Link to={urlHelper.getUrlWithParameter(routing.addBookPage.url, /:id/, book.id)}>\r\n                                        <button type=\"button\" className=\"books-list-item__button\">\r\n                                            <Icon icon={edit} iconClassName=\"books-list-item__button-icon\" />\r\n                                        </button>\r\n                                    </Link>\r\n                                )\r\n                    }\r\n                    <OpenDetailsPageButton bookId={book.id} className=\"books-list-item__open-details-page-button\" />\r\n                    {\r\n                        localStorageHelper.getRole() === 'user'\r\n                                && (\r\n                                    <>\r\n                                        <FavoriteButton book={book} className=\"books-list-item__favorite-button\" />\r\n                                        <ShoppingCartCounter bookId={book.id} />\r\n                                    </>\r\n                                )\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./booksListItem.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./booksListItem.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./booksListItem.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react';\r\n\r\nexport const UserContext = React.createContext({\r\n    favoriteBooks: [],\r\n    setFavoriteBooks: () => []\r\n});\r\n"],"sourceRoot":""}