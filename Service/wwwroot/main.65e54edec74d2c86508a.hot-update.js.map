{"version":3,"sources":["webpack:///./src/components/addBookPage/AddBookPage/addBookPage.jsx"],"names":["AddBookPage","getAllAuthors","setState","props","match","params","id","bookService","getById","book","image","title","publishingYear","pagesCount","price","description","count","genres","authors","serviceWrapper","callService","authorService","get","result","allAuthors","event","target","value","author","state","push","splice","indexOf","genre","e","preventDefault","validator","allValid","bookData","add","errorFieldRef","update","redirectHelper","redirectToHomePage","history","showMessages","forceUpdate","messages","message","bookValidationConfig","fieldName","rule","SimpleReactValidator","React","createRef","isLoading","localStorageHelper","getRole","save","changeImage","deleteImage","changeDescription","changeTitle","changePrice","changePagesCount","changeCount","changePublishingYear","renderValidationResult","addGenre","deleteGenre","addAuthor","deleteAuthor","Component","PropTypes","shape","length","number","isRequired","action","string","location","pathname","search","hash","key","func","path","url","isExact","bool"],"mappings":"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","file":"main.65e54edec74d2c86508a.hot-update.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SimpleReactValidator from 'simple-react-validator';\r\n\r\n\r\nimport Input from 'components/common/Input/input';\r\nimport bookService from 'services/bookService';\r\nimport authorService from 'services/authorService';\r\nimport serviceWrapper from 'helpers/serviceWrapper';\r\nimport redirectHelper from 'helpers/redirectHelper';\r\nimport AddAuthorBlock from 'components/addBookPage/AddAuthorBlock/addAuthorBlock';\r\nimport AddGenreBlock from 'components/addBookPage/AddGenreBlock/addGenreBlock';\r\nimport PhotoSelector from 'components/common/PhotoSelector/photoSelector';\r\nimport bookValidationConfig from 'validationConfigs/bookValidationConfig';\r\n\r\nimport './addBookPage.scss';\r\nimport localStorageHelper from 'helpers/localStorageHelper';\r\n\r\nexport default class AddBookPage extends React.Component {\r\n    static propTypes = {\r\n        history: PropTypes.shape({\r\n            length: PropTypes.number.isRequired,\r\n            action: PropTypes.string.isRequired,\r\n            location: PropTypes.shape({\r\n                pathname: PropTypes.string.isRequired,\r\n                search: PropTypes.string.isRequired,\r\n                hash: PropTypes.string.isRequired,\r\n                key: PropTypes.string.isRequired\r\n            }),\r\n            push: PropTypes.func.isRequired\r\n        }).isRequired,\r\n        match: PropTypes.shape({\r\n            path: PropTypes.string.isRequired,\r\n            url: PropTypes.string.isRequired,\r\n            isExact: PropTypes.bool.isRequired,\r\n            params: PropTypes.shape({\r\n                id: PropTypes.string.isRequired\r\n            }).isRequired\r\n        }).isRequired\r\n    }\r\n\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.validator = new SimpleReactValidator();\r\n        this.errorFieldRef = React.createRef();\r\n        this.state = {\r\n            id: 0,\r\n            image: '',\r\n            title: '',\r\n            publishingYear: '',\r\n            pagesCount: '',\r\n            price: '',\r\n            description: '',\r\n            count: '',\r\n            genres: [],\r\n            authors: [],\r\n            allAuthors: [],\r\n            isLoading: true\r\n        };\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        this.getAllAuthors();\r\n\r\n        this.setState\r\n        if (this.props.match.params.id !== '0') {\r\n            const book = await bookService.getById(this.props.match.params.id);\r\n            if (book) {\r\n                this.setState({\r\n                    id: book.id,\r\n                    image: book.image,\r\n                    title: book.title,\r\n                    publishingYear: book.publishingYear,\r\n                    pagesCount: book.pagesCount,\r\n                    price: book.price,\r\n                    description: book.description,\r\n                    count: book.count,\r\n                    genres: book.genres,\r\n                    authors: book.authors\r\n                });\r\n            }\r\n        }else{\r\n            this.setState({\r\n                \r\n            })\r\n        }\r\n    }\r\n\r\n    getAllAuthors = async () => {\r\n        const result = await serviceWrapper.callService(authorService.get, null, null);\r\n        if (result) {\r\n            this.setState({ allAuthors: result });\r\n        }\r\n    }\r\n\r\n    deleteImage = () => {\r\n        this.setState({ image: '' });\r\n    }\r\n\r\n    changeTitle = (event) => {\r\n        this.setState({\r\n            title: event.target.value\r\n        });\r\n    }\r\n\r\n    changePrice = (event) => {\r\n        this.setState({\r\n            price: event.target.value\r\n        });\r\n    }\r\n\r\n    changePagesCount = (event) => {\r\n        this.setState({\r\n            pagesCount: event.target.value\r\n        });\r\n    }\r\n\r\n    changeDescription = (event) => {\r\n        this.setState({\r\n            description: event.target.value\r\n        });\r\n    }\r\n\r\n    changePublishingYear = (event) => {\r\n        this.setState({\r\n            publishingYear: event.target.value\r\n        });\r\n    }\r\n\r\n    changeCount = (event) => {\r\n        this.setState({\r\n            count: event.target.value\r\n        });\r\n    }\r\n\r\n    changeImage = (image) => {\r\n        this.setState({ image });\r\n    }\r\n\r\n    addAuthor = (author) => {\r\n        const { authors } = this.state;\r\n        authors.push(author);\r\n        this.setState({ authors });\r\n    }\r\n\r\n    deleteAuthor = (author) => {\r\n        const { authors } = this.state;\r\n        authors.splice(authors.indexOf(author), 1);\r\n        this.setState({ authors });\r\n    }\r\n\r\n    deleteGenre = (genre) => {\r\n        const { genres } = this.state;\r\n        genres.splice(genres.indexOf(genre), 1);\r\n        this.setState({ genres });\r\n    }\r\n\r\n    addGenre = (genre) => {\r\n        const { genres } = this.state;\r\n        genres.push(genre);\r\n        this.setState({ genres });\r\n    }\r\n\r\n    save = async (e) => {\r\n        e.preventDefault();\r\n        if (this.validator.allValid()) {\r\n            const bookData = { ...this.state };\r\n            let result;\r\n\r\n            if (this.state.id === 0) {\r\n                result = await serviceWrapper.callService(bookService.add, bookData, this.errorFieldRef);\r\n            } else {\r\n                result = await serviceWrapper.callService(bookService.update, bookData, this.errorFieldRef);\r\n            }\r\n\r\n            redirectHelper.redirectToHomePage(this.props.history);\r\n        } else {\r\n            this.validator.showMessages();\r\n            this.forceUpdate();\r\n        }\r\n    }\r\n\r\n    renderValidationResult = () => {\r\n        const messages = [\r\n            this.validator.message(bookValidationConfig.title.fieldName, this.state.title, bookValidationConfig.title.rule),\r\n            this.validator.message(bookValidationConfig.price.fieldName, this.state.price, bookValidationConfig.price.rule),\r\n            this.validator.message(bookValidationConfig.image.fieldName, this.state.image, bookValidationConfig.image.rule),\r\n            this.validator.message(bookValidationConfig.publishingYear.fieldName, this.state.publishingYear, bookValidationConfig.publishingYear.rule),\r\n            this.validator.message(bookValidationConfig.description.fieldName, this.state.description, bookValidationConfig.description.rule),\r\n            this.validator.message(bookValidationConfig.pagesCount.fieldName, this.state.pagesCount, bookValidationConfig.pagesCount.rule),\r\n            this.validator.message(bookValidationConfig.count.fieldName, this.state.count, bookValidationConfig.count.rule)\r\n        ];\r\n\r\n        return (\r\n            <div className=\"add-book-page__validation-result\" ref={this.errorFieldRef}>\r\n                {messages}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        if (localStorageHelper.getRole() !== 'admin') {\r\n            return <h1 className=\"add-book-page__title\">You don't have permission to do it</h1>;\r\n        }\r\n        return (\r\n            <>\r\n                <h1 className=\"add-book-page__title\">Add or update book</h1>\r\n                <section className=\"add-book-page\">\r\n                    <form className=\"add-book-page__form\" onSubmit={this.save}>\r\n                        <div className=\"add-book-page__image-block\">\r\n                            <img\r\n                                className=\"add-book-page__book-image\"\r\n                                alt=\"book\"\r\n                                src={this.state.image}\r\n                            />\r\n                            <PhotoSelector onChange={this.changeImage} />\r\n                            <button className=\"add-book-page__form-button\" type=\"button\" onClick={this.deleteImage}>\r\n                                Delete photo\r\n                            </button>\r\n                            <Input\r\n                                name=\"description\"\r\n                                type=\"text\"\r\n                                label=\"Description:\"\r\n                                onChange={this.changeDescription}\r\n                                value={this.state.description}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <Input name=\"title\" type=\"text\" label=\"Title:\" onChange={this.changeTitle} value={this.state.title} />\r\n                            <Input name=\"price\" type=\"text\" label=\"Price:\" onChange={this.changePrice} value={this.state.price} />\r\n                            <Input name=\"pages\" type=\"text\" label=\"Pages:\" onChange={this.changePagesCount} value={this.state.pagesCount} />\r\n                            <Input name=\"count\" type=\"text\" label=\"Count:\" onChange={this.changeCount} value={this.state.count} />\r\n                            <Input name=\"publishingYear\" type=\"text\" label=\"Publishing Year:\" onChange={this.changePublishingYear} value={this.state.publishingYear} />\r\n                            {\r\n                                this.renderValidationResult()\r\n                            }\r\n                        </div>\r\n                        <div className=\"add-book-page__author-genres\">\r\n                            <AddGenreBlock\r\n                                genres={this.state.genres}\r\n                                addGenre={this.addGenre}\r\n                                deleteGenre={this.deleteGenre}\r\n                            />\r\n                            <AddAuthorBlock\r\n                                authors={this.state.authors}\r\n                                allAuthors={this.state.allAuthors}\r\n                                addAuthor={this.addAuthor}\r\n                                deleteAuthor={this.deleteAuthor}\r\n                            />\r\n                        </div>\r\n                        <button type=\"submit\" className=\"add-book-page__form-button\">Add book</button>\r\n                    </form>\r\n                </section>\r\n            </>\r\n        );\r\n    }\r\n}\r\n"],"sourceRoot":""}